(()=>{"use strict";const e="preloader";gsap.defaults({duration:0,ease:"power1.inOut"}),(()=>{const t="true"===sessionStorage.getItem(e),o=document.querySelector(".preloader"),r=o.querySelector(".preloader__line"),n=r.querySelector(".preloader__line__runner"),a=o.querySelector(".preloader__button"),i=document.querySelector(".hero"),s=document.querySelector(".menu__content"),l=document.querySelector(".cursor"),c=i.querySelector(".heading"),d=i.querySelector(".hero__caption > *"),u=i.querySelectorAll(".weights > *");let p=0;window.setPreloaderState=g;const y=i.querySelector(".hero__video--first video"),m=i.querySelector(".hero__video--second video");return y&&m?(t?(y.remove(),m.play(),c.appear?c.appear():c.removeAttribute("data-trigger")):(window.scrollY=0,window.scrollTo(0,0),gsap.to(l,{display:"none"}),gsap.to(s,{transform:"translateY(-100%)"}),gsap.to(d,{opacity:0}),gsap.to(u,{opacity:0}),2===y.networkState&&2===m.networkState?v().then((()=>S())):g(100).add((()=>{a.addEventListener("click",(()=>{a.firstElementChild.textContent="Wait a sec...",y.load(),m.load(),v().then((()=>S()))}),{once:!0})})).add(gsap.timeline().to(r,{opacity:0,duration:.5}).to(r,{display:"none"}).to(a,{opacity:0,display:"block"}).to(a,{opacity:1,duration:.5}))),g):_();function g(e){return p+=e,p>100&&(p=100),gsap.timeline().to(n,{transform:`scaleX(${p/100})`,duration:.4})}function S(){setTimeout((()=>{_(),y.play(),y.addEventListener("ended",(()=>{m.play(),y.remove(),c.animate(),gsap.to(l,{display:"block"}),gsap.to(s,{transform:"translateY(0%)",duration:.7}),gsap.to(d,{opacity:1,duration:.7}),gsap.to(u,{opacity:1,duration:.7}),document.documentElement.classList.remove("scroll-blocked")}))}),500)}function _(){gsap.to(o,{opacity:0,duration:.4,onComplete:()=>{o.remove(),sessionStorage.setItem(e,!0)}})}async function v(){const e=new Promise((e=>{y.addEventListener("canplaythrough",(()=>{g(40),e()}),{once:!0})})),t=new Promise((e=>{m.addEventListener("canplay",(()=>{g(40),e()}),{once:!0})}));return Promise.all([e,t])}})()})();