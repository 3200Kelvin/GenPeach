(()=>{"use strict";const e=()=>document.documentElement.classList.remove("scroll-blocked"),t="preloader";gsap.defaults({duration:0,ease:"power1.inOut"}),(()=>{const o="true"===sessionStorage.getItem(t),r=document.querySelector(".preloader"),n=r.querySelector(".preloader__line"),a=n.querySelector(".preloader__line__runner"),c=r.querySelector(".preloader__button"),i=document.querySelector(".hero"),s=document.querySelector(".menu__content"),l=document.querySelector(".cursor"),d=i.querySelector(".heading"),u=i.querySelector(".hero__caption > *"),p=i.querySelectorAll(".weights > *");let y=0;window.setPreloaderState=_;const m=i.querySelector(".hero__video--first video"),g=i.querySelector(".hero__video--second video");return m&&g?(o?g.play().then((()=>{m.remove(),_(100).add((()=>{f(),h(),e()}))})).catch((()=>{S()})):S(),_):f();function _(e){return y+=e,y>100&&(y=100),gsap.timeline().to(a,{transform:`scaleX(${y/100})`,duration:.4})}function S(){gsap.to(l,{display:"none"}),gsap.to(s,{transform:"translateY(-100%)"}),gsap.to(u,{opacity:0}),gsap.to(p,{opacity:0}),_(100).add((()=>{c.addEventListener("click",(()=>{c.firstElementChild.textContent="Wait a sec...",async function(){const e=new Promise((e=>{m.addEventListener("canplaythrough",(()=>{_(40),e()}),{once:!0})})),t=new Promise((e=>{g.addEventListener("canplay",(()=>{_(40),e()}),{once:!0})}));return Promise.all([e,t])}().then((()=>async function(){setTimeout((()=>{f(),m.play(),m.addEventListener("ended",(()=>{g.play(),m.remove(),h(),e()}))}),500)}())),m.load(),g.load()}),{once:!0})})).add(gsap.timeline().to(n,{opacity:0,duration:.5}).to(n,{display:"none"}).to(c,{opacity:0,display:"block"}).to(c,{opacity:1,duration:.5}))}function f(){gsap.to(r,{opacity:0,duration:.4,onComplete:()=>{r.remove(),sessionStorage.setItem(t,!0)}})}function h(){d.appear(),gsap.to(l,{display:"block"}),gsap.to(s,{transform:"translateY(0%)",duration:.7}),gsap.to(u,{opacity:1,duration:.7}),gsap.to(p,{opacity:1,duration:.7})}})()})();